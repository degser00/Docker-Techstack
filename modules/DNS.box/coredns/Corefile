# This block forwards public www.mydomain.com
www.mydomain.com {
    forward . 1.1.1.1 9.9.9.9
    log
    errors
}

# This block handles ONLY my local subdomains
mydomain.com {
    template IN A {
        match ".*\.mydomain\.com\."
        answer "{{ .Name }} 60 IN A caddy_IP"
    }

    log
    errors
}

# This block handles everything else (forwarding)
. {
    forward . 1.1.1.1 9.9.9.9
    log
    errors
}
